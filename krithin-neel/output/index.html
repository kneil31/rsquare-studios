<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
  <title>Krithin Neel â€” Family Memories</title>
  <meta name="description" content="Family memories page">
  <meta name="theme-color" content="#FFF8F0">
  <meta name="referrer" content="no-referrer">
  <meta name="robots" content="noindex, nofollow, noarchive">
  <meta http-equiv="Permissions-Policy" content="camera=(), microphone=(), geolocation=()">
  <style>
    *, *::before, *::after {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    :root {
      --font: -apple-system, BlinkMacSystemFont, 'Segoe UI', system-ui, sans-serif;
      --bg: #FFF8F0;
      --bg-card: #FFFFFF;
      --text: #3D2C2E;
      --text-secondary: #8B7355;
      --accent: #E8A87C;
      --accent-soft: #FBE8D3;
      --pink: #F4978E;
      --pink-soft: #FDDEDE;
      --lavender: #C3AED6;
      --lavender-soft: #EDE7F6;
      --mint: #9DC5BB;
      --mint-soft: #E0F2EE;
      --shadow: 0 2px 12px rgba(61, 44, 46, 0.08);
      --shadow-hover: 0 4px 20px rgba(61, 44, 46, 0.14);
      --radius: 16px;
      --radius-sm: 10px;
    }

    body {
      font-family: var(--font);
      background: var(--bg);
      color: var(--text);
      min-height: 100vh;
      -webkit-font-smoothing: antialiased;
    }

    /* â”€â”€ Header â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    .header {
      text-align: center;
      padding: 40px 20px 24px;
      background: linear-gradient(180deg, #FFF0E5 0%, var(--bg) 100%);
    }

    .header-icon {
      font-size: 64px;
      margin-bottom: 8px;
      line-height: 1;
    }

    .header h1 {
      font-size: 28px;
      font-weight: 800;
      color: var(--text);
      margin-bottom: 4px;
      letter-spacing: -0.5px;
    }

    .header .subtitle {
      font-size: 15px;
      color: var(--text-secondary);
      font-weight: 600;
    }

    .logout-btn {
      margin-top: 12px;
      padding: 6px 18px;
      border: 1.5px solid var(--accent);
      border-radius: 50px;
      background: transparent;
      color: var(--accent);
      font-family: inherit;
      font-size: 13px;
      font-weight: 700;
      cursor: pointer;
      transition: all 0.2s;
    }

    .logout-btn:hover {
      background: var(--accent);
      color: #fff;
    }

    /* â”€â”€ Tabs â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    .tabs {
      display: flex;
      justify-content: center;
      gap: 8px;
      padding: 0 20px 20px;
      position: sticky;
      top: 0;
      z-index: 100;
      background: var(--bg);
      padding-top: 12px;
    }

    .tab-btn {
      padding: 10px 24px;
      border: none;
      border-radius: 50px;
      font-family: inherit;
      font-size: 15px;
      font-weight: 700;
      cursor: pointer;
      transition: all 0.25s ease;
      background: var(--bg-card);
      color: var(--text-secondary);
      box-shadow: var(--shadow);
    }

    .tab-btn.active {
      background: var(--accent);
      color: #fff;
      box-shadow: 0 4px 16px rgba(232, 168, 124, 0.4);
    }

    .tab-btn:not(.active):hover {
      background: var(--accent-soft);
      color: var(--text);
    }

    /* â”€â”€ Tab Content â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    .tab-content {
      display: none;
      padding: 0 16px 100px;
      max-width: 600px;
      margin: 0 auto;
      animation: fadeIn 0.3s ease;
    }

    .tab-content.active {
      display: block;
    }

    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(8px); }
      to { opacity: 1; transform: translateY(0); }
    }

    .section-label {
      font-size: 13px;
      font-weight: 700;
      text-transform: uppercase;
      letter-spacing: 1.2px;
      color: var(--text-secondary);
      padding: 16px 4px 8px;
    }

    /* â”€â”€ Tile Grid â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    .cards-list {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 12px;
    }

    .tile {
      position: relative;
      border-radius: var(--radius);
      overflow: hidden;
      aspect-ratio: 3/4;
      display: flex;
      align-items: flex-end;
      background-size: cover;
      background-position: center;
      text-decoration: none;
      color: #fff;
      transition: transform 0.15s, box-shadow 0.2s;
    }

    .tile::before {
      content: '';
      position: absolute;
      inset: 0;
      background: linear-gradient(180deg, transparent 30%, rgba(0,0,0,0.7) 100%);
      z-index: 0;
    }

    .tile:hover {
      transform: translateY(-3px);
      box-shadow: 0 8px 24px rgba(0,0,0,0.2);
    }

    .tile-content {
      position: relative;
      z-index: 1;
      padding: 14px 16px;
      width: 100%;
    }

    .tile-title {
      font-size: 16px;
      font-weight: 700;
      color: #fff;
      text-shadow: 0 1px 4px rgba(0,0,0,0.6);
      line-height: 1.3;
      margin-bottom: 2px;
    }

    .tile-meta {
      font-size: 12px;
      color: #d1d5db;
      text-shadow: 0 1px 2px rgba(0,0,0,0.5);
    }

    .tile-badge {
      display: inline-block;
      font-size: 11px;
      font-weight: 700;
      padding: 2px 8px;
      border-radius: 50px;
      background: rgba(255,255,255,0.2);
      color: #fff;
      margin-top: 4px;
      backdrop-filter: blur(4px);
    }

    .tile-icon {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      font-size: 40px;
      z-index: 1;
    }

    .tile-no-image {
      background: linear-gradient(135deg, var(--accent-soft) 0%, var(--lavender-soft) 100%);
    }

    .tile-no-image::before {
      background: none;
    }

    .tile-no-image .tile-title {
      color: var(--text);
      text-shadow: none;
    }

    .tile-no-image .tile-meta {
      color: var(--text-secondary);
      text-shadow: none;
    }

    .tile-no-image .tile-badge {
      background: var(--lavender-soft);
      color: #7C6B9E;
    }

    /* â”€â”€ Video Cards â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    .video-card {
      position: relative;
      text-decoration: none;
      border-radius: var(--radius);
      overflow: hidden;
      aspect-ratio: 16/9;
      background-size: cover;
      background-position: center;
      display: flex;
      align-items: flex-end;
      transition: transform 0.15s, box-shadow 0.2s;
    }

    .video-card::before {
      content: '';
      position: absolute;
      inset: 0;
      background: linear-gradient(180deg, transparent 40%, rgba(0,0,0,0.8) 100%);
    }

    .video-card:hover {
      transform: translateY(-3px);
      box-shadow: 0 8px 24px rgba(0,0,0,0.2);
    }

    .video-card-content {
      position: relative;
      z-index: 1;
      padding: 14px 16px;
      width: 100%;
    }

    .video-grid {
      grid-template-columns: repeat(2, 1fr) !important;
    }


    /* â”€â”€ Reels Grid (vertical 9:16) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    .reels-grid {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 8px;
    }

    .reel-tile {
      position: relative;
      border-radius: var(--radius-sm);
      overflow: hidden;
      aspect-ratio: 9/16;
      display: flex;
      align-items: flex-end;
      text-decoration: none;
      color: #fff;
      transition: transform 0.15s, box-shadow 0.2s;
    }

    .reel-tile img {
      position: absolute;
      inset: 0;
      width: 100%;
      height: 100%;
      object-fit: cover;
      object-position: center;
    }

    .reel-tile::before {
      content: '';
      position: absolute;
      inset: 0;
      background: linear-gradient(180deg, transparent 60%, rgba(0,0,0,0.6) 100%);
      z-index: 1;
    }

    .reel-tile:hover {
      transform: translateY(-3px);
      box-shadow: 0 8px 24px rgba(0,0,0,0.2);
    }

    .reel-content {
      position: relative;
      z-index: 2;
      padding: 8px 10px;
      width: 100%;
    }

    .reel-title {
      font-size: 11px;
      font-weight: 700;
      color: #fff;
      text-shadow: 0 1px 4px rgba(0,0,0,0.6);
      line-height: 1.3;
    }

    @media (max-width: 374px) {
      .reels-grid {
        grid-template-columns: repeat(2, 1fr);
      }
    }

    /* â”€â”€ Password Gate â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    .pw-gate {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      min-height: 60vh;
      padding: 40px 20px;
      text-align: center;
    }

    .pw-gate .gate-icon {
      font-size: 64px;
      margin-bottom: 16px;
    }

    .pw-gate h2 {
      font-size: 22px;
      font-weight: 800;
      color: var(--text);
      margin-bottom: 8px;
    }

    .pw-gate p {
      font-size: 14px;
      color: var(--text-secondary);
      margin-bottom: 24px;
    }

    .pw-form {
      display: flex;
      gap: 8px;
      max-width: 300px;
      width: 100%;
    }

    .pw-input-wrap {
      position: relative;
      flex: 1;
    }

    .pw-input-wrap input {
      width: 100%;
      padding: 12px 44px 12px 16px;
      border: 2px solid var(--accent-soft);
      border-radius: 12px;
      font-family: inherit;
      font-size: 15px;
      font-weight: 600;
      background: var(--bg-card);
      color: var(--text);
      outline: none;
      transition: border-color 0.2s;
    }

    .pw-input-wrap input:focus {
      border-color: var(--accent);
    }

    .pw-eye-btn {
      position: absolute;
      right: 8px;
      top: 50%;
      transform: translateY(-50%);
      background: none;
      border: none;
      cursor: pointer;
      padding: 4px;
      font-size: 16px;
      opacity: 0.6;
    }

    .pw-eye-btn:hover {
      opacity: 1;
    }

    .pw-form > button {
      padding: 12px 20px;
      border: none;
      border-radius: 12px;
      background: var(--accent);
      color: #fff;
      font-family: inherit;
      font-size: 15px;
      font-weight: 700;
      cursor: pointer;
      transition: opacity 0.2s;
    }

    .pw-form > button:hover {
      opacity: 0.85;
    }

    .pw-error {
      color: var(--pink);
      font-size: 13px;
      font-weight: 700;
      margin-top: 12px;
      display: none;
    }

    .pw-lockout {
      color: var(--pink);
      font-size: 13px;
      font-weight: 700;
      margin-top: 8px;
      display: none;
    }

    .pw-reminder {
      font-size: 12px;
      color: var(--text-secondary);
      margin-top: 20px;
      max-width: 260px;
      line-height: 1.5;
      opacity: 0.75;
    }

    .app-content {
      display: none;
    }

    .app-content.unlocked {
      display: block;
    }

    /* â”€â”€ Footer â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    .footer {
      text-align: center;
      padding: 32px 20px;
      color: var(--text-secondary);
      font-size: 13px;
      font-weight: 600;
    }

    .footer a {
      color: var(--accent);
      text-decoration: none;
    }

    .footer a:hover {
      text-decoration: underline;
    }

    .footer .whatsapp-link {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      margin-top: 8px;
      padding: 8px 20px;
      background: #25D366;
      color: #fff;
      border-radius: 50px;
      font-weight: 700;
      font-size: 14px;
      text-decoration: none;
      transition: opacity 0.2s;
    }

    .footer .whatsapp-link:hover {
      opacity: 0.85;
      text-decoration: none;
    }

    /* â”€â”€ Small mobile (single column tiles) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    @media (max-width: 374px) {
      .cards-list {
        grid-template-columns: 1fr;
      }
      .tile {
        aspect-ratio: 16/9;
      }
    }

    /* â”€â”€ Desktop â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    @media (min-width: 768px) {
      .header {
        padding: 60px 20px 32px;
      }
      .header h1 {
        font-size: 36px;
      }
      .tab-btn {
        padding: 12px 32px;
        font-size: 16px;
      }
      .cards-list {
        grid-template-columns: repeat(3, 1fr);
        gap: 16px;
      }
      .tile-title {
        font-size: 18px;
      }
    }
  </style>
</head>
<body>
  <div class="header">
    <div class="header-icon">ğŸ‘¶</div>
    <h1>Krithin Neel</h1>
    <p class="subtitle">One stop for family memories</p>
    <button id="logout-btn" class="logout-btn" onclick="logout()" style="display:none">Log out</button>
  </div>

  <!-- Password Gate -->
  <div id="pw-gate" class="pw-gate">
    <div class="gate-icon">ğŸ”’</div>
    <h2>Family Access</h2>
    <p>Enter the password to view memories</p>
    <div class="pw-form">
      <div class="pw-input-wrap">
        <input type="password" id="pw-input" placeholder="Password" autocomplete="off" inputmode="text"
               onkeydown="if(event.key==='Enter')checkPassword()">
        <button type="button" class="pw-eye-btn" onclick="togglePasswordVisibility()" aria-label="Toggle password visibility">
          <span id="eye-icon">ğŸ‘</span>
        </button>
      </div>
      <button id="pw-btn" onclick="checkPassword()">Enter</button>
    </div>
    <div id="pw-error" class="pw-error">Wrong password. Try again.</div>
    <div id="pw-lockout" class="pw-lockout"></div>
    <p class="pw-reminder">Please don't share this link or password outside family</p>
  </div>

  <!-- Encrypted content injected here after unlock -->
  <div id="app-content" class="app-content">
    <div class="tabs">
      <button class="tab-btn active" onclick="switchTab('krithin')">Krithin</button>
      <button class="tab-btn" onclick="switchTab('reels')">Reels</button>
      <button class="tab-btn" onclick="switchTab('monika')">Monika</button>
    </div>

    <div id="tab-krithin" class="tab-content active"></div>
    <div id="tab-reels" class="tab-content"></div>
    <div id="tab-monika" class="tab-content"></div>
  </div>

  <div class="footer" style="display:none" id="app-footer">
    <p>Captured with love by <a href="https://kneil31.github.io/rsquare-studios/" target="_blank" rel="noreferrer noopener">Rsquare Studios</a></p>
    <a href="https://wa.me/15307278598" class="whatsapp-link" target="_blank" rel="noreferrer noopener">
      <svg width="18" height="18" viewBox="0 0 24 24" fill="currentColor"><path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347z"/><path d="M12 0C5.373 0 0 5.373 0 12c0 2.625.846 5.059 2.284 7.034L.789 23.492a.5.5 0 00.611.611l4.458-1.495A11.948 11.948 0 0012 24c6.627 0 12-5.373 12-12S18.627 0 12 0zm0 22c-2.35 0-4.514-.81-6.228-2.164l-.435-.347-3.012 1.01 1.01-3.012-.348-.436A9.948 9.948 0 012 12C2 6.486 6.486 2 12 2s10 4.486 10 10-4.486 10-10 10z"/></svg>
      WhatsApp
    </a>
    <p style="margin-top: 12px; font-size: 11px; opacity: 0.5;">Generated 2026-02-19 20:02</p>
  </div>

  <script>
    const ENCRYPTED_BLOB = "M5aGxrS5zDjI7rLqT991yJPXF5EgVUnGb8F5SARL6RV0Xx6OUq3qrd4gWEuL/VlG6ObQBZ2mmqdEO93qI/VWxS/WIhZMXsvpQ3qM3S6K5Y3MqVEoVdP5x9JS0BmbeUDct+5hUjM0uEk7lUTv1A3IMtwQoBRhgqLH55BEBQ0onu+sVFl0oQqRIvOwAOiNSbyGl6Gw0A2bLwMvjd8U1J1yJQ4jpgiXjsZNsFgFxoKWYgWy549p3bhJ6OsUfZnq+gPk8QrWXdIi96+pU7LoxSGP7QDM+M2XOr3z7X8P4tsTf0xRHUDNn+jSHx8WvD06pWibGXeUEWYdvRFZzkjrUMAaD7wioVmiqnn0RiP92thQmbr1kxj3wmk2jBJo4aj+CowGBQHY0Ca/w6M41rSp2SAMaE30LlRnYMurBxuiXplOtgECL2qb8ArmMciMZjCasRtayoXdwa9Sj8t8DGCu76hV5CwteNpZa5ywKkBh1O5Xfzj+Gnk0lXY124okYDbMmgQljF01vhgMksfsurJL0K2GV7IfyscJ6FlC94Mda+ZGaVrSwWwxW4B9+b5jLKQgNZ9igrVtnbj70qNIbjoeX91AtijlkY30s3tRYicaEVWZYyVTWUCeQMWoUDKZaJSZ3jMOU1OkBuHYUCrvx7BGH3WCFXdHg6QqqdPCd6NeWp0npnKQwKfpiCW13oPvEmFZwCJij7HzDg0kuRwO6wLLO/4SltIJiY+j28IGRN6JMHl2qInwymwAn028CP7G/1mp3k0gNn4UWOrv73MJBcc9xJxghqTfuRxtknY3KBZvLiVEX2/tEPbLi32ieInnO0+hB53VrcEb5NeAUwjX+qwANdzbuurh7pInN6K9wGkxR+NihsGEkGYWNFSna0gb/TaDDv+dNUX11gPlH4AiqPmDct6GRmHefaJ8R9GxECZLHwRaUJrHlvDn5+/aP8Isrtp/J9GuZI9Uw7BsMzV8+dlD6pjwkB/XsLQvbkquI9bDPf7uaL6aeUKss4PrGcWXjvYUCHSAcYVPpGZjg1quqJcGpQYiuZCui2DfeMwRL+XCfuNt+PUk28ErEiG+nyOjniU7fESTPR+n0HIC5E8NDdTlXxPKZuyhWDI3gJslPVdRpKiE2x//0nXgS28mUmm1BQlDNQpLGGdL1Ba3uYwZlGaRC91XjmCFpm0aoSKdEkWrcYTlxh5/XimmjRR+yat3wlCnc2+ArBIB/1ehxcWFzuh+rw/RczAhM+I85SLjzH+Go8t1K7HbpDriZwo4p3loo+KZwQ4dvfvCIG+S9xG/R4Zqm1TfQqS/tRi0qj0NU2B8KL1awu6b+h7GQrB4peE3OfX9l75Fog4jOfTtzqmER6mr2S1VIgHzttvlDAvRXkB4FlrT7wRZ/pkJB7BS0helYHea4PmD8kGQxclcKr1LNfxsutd1Y+HLnkpd1m5srHPlKK+3x2wMmEWPpsmGwzrZs2cBIVDLElywZb9wbujtuGWmhKQ1Tu9ecxd861fTesA6ziXiM8W+IAbatjjBw65Yccdg1JXVDRWkMaM0xuq+J8R/dmTuLIyxzfWBq51Jyb3er2bb2MY7DtrrBaW2089RA5zfDHP3ANcgU/syK0fBE9goOt63jkQxnSMzP66dMeafeyLnmLs3C6PsXI5B/Qe7AgNbG6zmCKsy2xidF+7NpP5s9EWRV37y4KpsYeGWNhC4NwXZ008OAGaXQSZihzoIs4Wl3rGR+DCnyWbyguJBMNmH7wQfqyVvVZA5WujW4SbVzYWNMkLnlWGzwjgci2LlNy77hiXHJTV0ZVmI/xettgILViyRio/hfLE5yEcdPt2QfspLlgDJ+khKs/7HDgoFzyzbpb1kR5/1zbddgN4Hdbv2iuJ1ai7PR2UaEcPy7pit8UbhZvZxiW+NyV7Z+tTqP9CSwR1ujndNJbLjWK7CBRusZzdUjSD0w9ZRvHVHCD/GnhJ5YDXkTi3LXVdZ3ACE0L8zieLvxiGeuMRUpyc7E0VWqSQ9BgRCxik0m5G5GltC9KaqK6GBbUgn861mtfncuXLjuYxSqcB8NBOq47d9L97F4Am8S00BC/1ltGArzUoOX/yM0GT+Hg8+WM8qL21CkBpxLJ6SOeL8EdlFKvpjuyHTcjIakZ3ldO6cpzL0ZD/AXnj8Rm8ShPAzMz3+kyP0YzvSV6nqJLrnA+0YvUJsQ2e1rhtKSouck1zC4AhoSeUnt7GTusYh5laqf32TZ+XVUJXYJFA3/gsRL7KXVGdDxlj+cmuZC0LJOly/e7FCeOuZOZ1lk+S8NdaJ+eFuzjahWZ/jR3GBD9th10hVwrId4jS7yAxs6SnwJM/UUoNr2jPdjcrKiLK66n/Nj5vtd62IF43pz9ez9aWRxIK1S3DqwwywxpHXmwr/hSIP3Hgltj6lMzITzdNL2tPBafgdfM7yKtH2dR+WdopgQLaAwdOcRwrehn2vkfR27pW+ngqJYdhUss2CYO4XmHGQZ/Uyt80KnbwD0jh4rX1+7DNhP3ew4gL16UbQb0WW/KUQ/u7HrS/lmd7AI1peA1wdEHockKl+ltLkWc4dngAPozMy/x2fkV8T7SJuhrFFjm86Oh7Y9UmnZ3+hNUU+Vr5nffu+P3Ilzj2ZpT29MSg9QfkkU16YHQlZwbs1JEn+wvSnRTrWWriodHllGMlOd87dEQI7jcghsUxr35C4YWvx6ujMIUOvPgOLazDUUCF+nCfeh7i66s7n7m+2ULsolZ7b6COAX3rhVkIPLHWpd0TE5C3llt3lw3Mak0ToM9T3hE2rIdGi3ERnOjOme3S3WzKS+n0pb9inxdDWN1o6SFeMFpnEWn1+00r2DCE1rljhNaLpRc7H0Mx7xTKVSkMO9aSrf4S+/TcXrdUtpUZStnbWbVsNuLPbqYzA9Xbww5CU7t0HmEMmnW2PKE3LEOtncApK6OdH/V1LkNf/IZES3Zg6kukwjt/6uogTjND8JXDvXVc0jPJxKkEqDB43O/sSBnufVvVlms2aGfRPiGEsxlJx+fu6rrXHcBR44jrLLVHbMEgRoWnisBuRurz6MCrmoG1xpAavt0kOQ100/Gt0egSzaXqcCC32awtDRk+r3giwwnZI5KZeStxihk6OkRbSbMWTUNytMmFU4Dxj61V6KNkaf+Sy494mSGJJWxBNp0o3PBHZUjwjHq4iveUJ2fG/cOTYNerETDX+jUX7KN6bxO7dI0hzFnVahRMbi7BpW0LOUNWc3DtPImk3+8TUhfMZkiJy0dW5QyPaajGFpZP1EuNS1Ysrfj2uRlIkBdjrutdNWDsLvmAMigFOQq6C2HMKTLhmMR3aqu/tUwvtixw+MuSiIbvZo4uhdydnAoSNDRHixucvJ/04djf3XxxlPuIQAh8moVILpniCrYN2URma7zfl4kqwpWaTKgpGtAtGhXp7knoomD2WyTgEyOZZl9l1wagE75O0YpMa1jE291w/U84HrPF5csgGqJctOyGuELzsMMO6d8Je1o7DOzMvEUizviq6TqZ4ugt6txRuXC/Uj7Ywqz5hVtvp97lDPE9vZREiQWFQI0zesCNizr7bfff5YNRUXnr0wouwolWVfPirHN3joYBDqLpLrYeMXJiDsAgkV5YBUx/Lom8zfIFPsysvvNbpB529RyUtcGuQVufJhgFhl5scxiA7fzPtXoAGm0qz7nZ37qaoKy2SrGvzmgtEs821Oxv0PXh7eHxGjCkVljpTcOrdlqOt/hu9qLGP5iIAwh6tX0KyhhGFTyUhEvbUXCJhEAI3TH61BHMvKVayx6W7sS+pRIOIkk8d9xyYZ9gXdFlYSILHSBercBg+/h3U5aCQXBp2bN2WvweF7erizWxpU95XI+wLzkjGo6aW6aT0fe7bmYABwPD7afYJt/VD6+3ddPPX3vNoEuyh4xfn9WApL+hrilGeVkUGKTvgOuC1zfof1Dt0TtRC+rarg6SC08WlOarq2dSPESP+a7CtfRj0qXsAziXd/pWOZ1HcIoFRb2mE1M3lJCR5vnG3zz8t0Z7WtQwXDZaYghAhY0dWH08BFUfCMau7Cv7kmf3ZBlgebmrF7rQ+MY10W+itZ1L6R1rF7l9TaSf9smQ0o6fWUcBw1sHfk+HW1a59fOsFwEnhHCDcr1Qg6RRq8DS7+HfsxS8bTuWhKP+R+wwdgb0b/vTNKyhQlR8s9u2xhosU2E6jMdjFlhFCBC+xs04jobe9qF8tuIN2ANVg8O2Yn+Df/nQ05BEYOFmiiSuVaCPuuY6OWRvRHzdSn5YLi03DzEu6M+LJ9obgUiLgJ5jWi4Hc0WMBC8oWXd/PFISl7K9uMIpRl4uIcCh9j5eYNzwwAtYiHrHUlrxgPTCXEbu5qqeOWTYjm+hityhKPlUSebpVbdwdgdvXkquokISGkH6YErB383VPxXDPAJneE9mGD4SxFulQP692VlEbAvMgilj1lcRUKkp6wlxMNW7uxP6jL6iaBG0njTUbV+bH7i5R2zrbCXgM5F0JAiH7HmVnUUu01yBsx/sxpuw8Vi26vBHtCUYbBPTxFdWyf7QJNTsCkfAtj/NbLbaSO6+4LEPL4ZV/uu0ZI/4CK3DQIrQYEuUoC0tDWZSy3UbCZJ1UZZ1B5x/m0+r1XUkz6ZFXKh9kJWWeGTRbi7NEWtdOBlRmuWbz1SnLovVKiOmjeO2nY2QeQyDkzdKD1+qENGMi+lpVC/0upp7MUaCgjkdBndYhFZlrIObQt90uBb5DjQvMV3a/FnlMLjQKHbkaJKXbiSKzhqRUkhqpazqLUSn6yo7BWjtMpbMmpdz9bJhwm9+S1wI27l6ENK4+54oUiynUpqCbRb8MSK97CzaHFiusHcWcjCFbjX/mPwbwUh+oLCDOe5l8fDincJH2pu3r0h24PnbyIdI4EoeP006MPkp0UNXIQhojq6hRbTCnuXzTuh3/S5B6eSrGv8s27o7xorFC0mcSlII0PkP3gU/Ps2EjqUxw85isE0fHooTt6TsRn8TAOlTNCmxoLVfEPXmYlPnIp4X9/HVt6NNuizvkunSUJUJiLRBDC0JTPBBy8lOo/oiE8VXEqtfPgJt1SkPtsloNitk+O0nqZx+usIWTlwGQpwMklW0y5xnlBVoz0jlbbcqYTANiOPAx/r4D2nrNcQBbpLCNQIFUuN0nEQixaa9TQajFiaHno/XCOkh169Mmh9KI0UU5ufGQCcn3syG0Z69ev0YwtmMeptbMGEjWG8LGN27YDbCuR+1OOQbNu9dLXdgGhU2e9akNcNXrVC8u5vU29H0sYtETLsDAuNj3o2Bos+OABOrsAjuLPnJVbadLB4oXVHFN9ioxUteHdlpH9WcIjOZgdOXavk8XPANxYR/W/By7dmZc5JfIHfdAW1NIzYu0pJSB28AunX96qwmVDB4g87+FwC7gh6PO6nsL6bVqHuMX4tqS6xpEvcfKYMpC3tGyA17bw/FRPHW8XBqEgPW7VSajQDgHJi1Lp1Z11evjQoFUr40C6ZAhMRYaNhyKVj8bTP7FmJTtS8T7FJhxQWRSXU6UtkDUmuse5zY8uRdhGETg/pFxypDHaboU+hk5yW1cUWPzSSnrp7n6c09vILH8l3SmNF9MADtYMlcWCk97bGSokQP/yKA7QZMGpt/Bj+H10sfwm2jPWVDvzdX06Q9QEYSmCfId+HxWQEUX24EUexauvxq4xU75CLTH35OHxOog7/xXyYCmGDMfau7FAEtUVOi+Yi7atDA0dwnBDESiNMLEQsNQusC6UEnMppVDZBxGtJEigAkwWZCoH7g/xw8JzJAUetplMf29z9hFrgBFKxnehR/AMENp7r9HFiMcJCL2M8vlCGO2RPbuEeE2KqWTxO/WwrezEDYNm9yvY7ZRivZysZoaNu/FfRephXJu2ZWE3TbNU58oLBmzq7yMntQwBD/i3HL1TRc7LBe5hagpkZ8jfxZ5yWrCTB7JDCHmUxTJrcOiw3sx5jIdmempEu5LJ5GjRNSseOjRRYj3OFQsrnFOBtwGtClthctCmAQNL5S8gsIV+J909Kj9sjZ+7KcwUuFaH09UaiuzWeRo9JANpfSH/hdHKqVP4EtbGHMnfcRe5SHEfa5icROUX4jZmCVajU4zfB73nVcJQsKxQR2W0gR1Hv4cYTH6DYGTAAsVenGfwKH6u/QEXhAMZRPdJkLKm61LrAIvwd3EUfIzWcv4ic8j1FRhtcYVemGbce4vrMOH8xI5pqHOIs7itNlM4tv/NIyEO8wOwABfKb1IX9hx73hXExotLAJOky6zILGiV13WKtCpAMBhrZtb2az3stuDyTVIYAv6IP0Pu4VBN/Dg9xWsWc2Ojhez3t5gXhetlWifFSYheDnLdMOeUV4+RlKx3g7ILu4RBK01HGJb4EApLbYySQEMh9z3+XWqyKUilaIrA4h6wEDDOCFPE8bIPNyK6xQPTcswUt/Uq127Wf5bw6lfJ0+o3kZdp0qqaXklHeAJFI7j9Xk89mkxiqazCwWt8PyEopNwe3vcalqzKzxLexmATfzrUo5nPKt7X1tMZ8DxpI9/WUafoYcbMDUHWZW6BtwN2Bq0j4ARkmAqnFIJLFH/Z9rxlFpl7TeqqMk/t3TwcIcJtEqUihvEtXGon06IYtmATKTESPvs/foteRnJvJw1VU6Rq72qJnu0Rr7syFPElJddAoqic7VolbGkk27uXno8oXdKC1BHv/Hn/69qJ5xL/9JWGrCCIT9w4MJ2H9JEWjsa/WBJiQcTpP94+n0k5CC5OZWgt1Eitho9bWbpmTuX0GqVyADtncu/SuQ5Dq2rlzGaVFKkrYpHpGYFjr9Kxws3BTDcN65XbBB8fzXswicVJUqhHOpkWNzbwzucY4YRh+Q6yoRiv7OpE2NA95D959DW/KmyPgg5OSD9xibrJSH2vV24d+i7bzWPgZICHelIRjurxKRO4RJr64bQziIn+//yPhjEKY60Lp3mmfeXME1OhWlDJCgNLlv+yMlyYcBC7cQezo0hNQWj9v+g7ARE1bHhFQflF9uLtFDgfhcnWD0Errb5iocAwlGg3N9Pco8CnUPlBMRno36NQEkdh7qRVtwHHZDj10/BnDb7jBGmmle/H50XOwDokQq7H3+OyEpULoC1MmQRIPBUO4tsFFrRymQ9JsihCkKfCaOcnolhJwI/OOUntvd53RrdTQ/n/aeF1ycjPp8sgzrhkOJ5U232JTXlS3omxXnEPjFkqpDUf9/myzaT/eJhj/23Pe6EZzMuu57yIzHxPFPERSKZiBWnxkEFnwzOluHdTbz0Nvv26zquHjcr/FnBwyUmYkR53ysTT2Af/hRyQHkTnYKAvn5C5Gp4YNgz6m5H/u4VcPn7Z9FA3XTqjREDWBf/O5COld/mcjLtm2Ypua68/ICRH+ue7///uOjvTGVk6bp+tWYL9nzj9LZ+dnzBKp2E54OVmei38/CcQDaGMmvbvuXd2p2Cg9ApUuOoYfaGcMfvl+aK8Ppc+H9PJk11+7C/BH8YT/MWKAbvpT+yiu8FaLWKOtIixHfEduH0B5H7kQCayIjFRoZAFGE02egsPdj2+4I9BYvTd72/A8eAaFwSyX6tCma2x5CgLZVXtzb26UhkbmdZfQ3r9k1FpdYZ8Og8Ln57615RHDiCa6fA3yQ7MXIGS0wYSdlmgG49QpS1kktnkWxRgJlfJC+aVEm0U5HmIusiurkJdqklQNRex8yWKYLKSURHRkBsQNKv8wxp2Rp++b5nxQITbcQOOicROnjkCka8vheODM4lXbKodYU0zdEM0JNSXYKOxo47cdXqWv2T265EuCyK/y/Dv9DP7o9QyaK8HWUPZXPUqVY2js9zeWfb9AAKiAv8SEhr41DAdwXpVWEDVdrmOUbffY27Y52ilFnhX1BNkcheyr+GCnEI04qHc6+uoE6fRFMQp/Ty2txEuP0m1LMvh7aPxWo6DIva+VfW8oQbd/5bBwDVUjO6YDc+LJwvfxrgSuRNgg6Mj30ZV1xC4myEk1NN6nd2YcK/0pRcffupjEEC1usQ6ops+uwjZvpH0DTWrgb7gvGUwzB1maByIc/FVAKZrIslGWDjkZ81fuO94gGVWL9f4EYqJK8dDCXHnKbNQ3mj6j0tH4niY3rdU7AjiOd3jybPzC+hdrL7MN/RsTxyv7UkTo1COyhOtfKcGdf3IdmGSDfcQjB4Uze4u+1/UW/LHRpilTmQR3WKxUE9N5cy8Caf7UQLeZCrTpKpB3sNcnX0TMOQ74tiQ5OYb9fdmam2lyamPt/8HbuTXb8GNFW0wj85fsl2JOznucQE6eytMFko4tj1/W4r6pj+3yLKQIhycjyuxq+LCwAkqmESuPPJbT2Xopzz3eu08dKaJWydrrV2RWbTstHOzzv+ihUPqYrYOhDJwiP0y4ZrAByuQ25Txh4taeSTWyRD0dqXAt40wNPqvWHjSyGFqGnP6x4J+g3OT2WIgm0dcI5kYugz2+No45SWiBwAe/ajMQTTSvd3sqvvDN9nr5rIMfgqUagBHpNWwJYrwT03eKwsKcx2bgqaRiKmezpAwmmtKVCMZuXaQGhEE8Wgk8Q8uzu5GxW/QaB8NpgSLS5Mva0Tepmergz7sRraZLIXRxDAjemv8J0nX4SHeDZ+Bi3ZSDvl0NG8tqUB7VCnsOnC6EEis8BZVYMuQi5iI6eJ17ZYk2Ws9K1MnrquqZljrtA1t+YupFbLNrT2J9TttW7I6hmuqgkFPh+qv0e1Gr4cgIhct5G64N3F6Tnqcn6npC6c+4HV1keKoT+8NP5X993uhXpJx2BApomX2kjg8Y4OyOEXLigV01xuv/mjyTenFGdonKNeb3TiSx/hVwRtU5vwfhLeJsGamtfENTEQxh3tHD0G4D6qoeTv66pSWbvptl4tyd/GFbD8CW+iYBuW7SjzAcp54p+XDbmHFSaQTPHR9ej4L8YVgTfCsG+Gy0yjdyPtCedalpQpPWCbL2Y/KDYUSaP+9QMnNR6u46WPtfEOX4ggLbBTI8y1J57YfbbDaApSBKGgmlKbuoI9Gm8WHwY8jxZMxlg+Ekxnl8Q8UJSWdIT7pXr53eOsIO7REPGXsXLRGRbiMFjKb56VLDksXyK136gqUjkDHDfuUXOuHso/IO7T75u8iIkPtDNx1WZSoWQdbDX9eebQRfG3nZbqW3VeIvBtgyMt8m/TBR/9m9tOdJ2UHiA5d/k/kHYaOoUTulI6owsrVO7TMWIepl7gRJprTH5NfSTTGAr1pD+1a5xYEReRCuDFVixmb45e7en3fQcJ+CSj8h6G4p1/G5ddOfNEBdldbI+Ttnirfn4XWhjrXuyp/egMsZX6TgVUsFHph1wi7x5pb9GcN22Icggbq7dnihTehr1PcU7okD5qvb+TxCI4eGQf/4YzBeMcbfaiyOVGIm1pfXPz+Hi1GNhxGKgh0FhDFkKVlTBg7G9iybScTQ4i1I/u6MHWjWsRDeKhNHv5B86tL1Nvd0VnAUSsUG11SDKQBi9HUs4y5H2UUJGVwPezjc8uXClwM/Y/4ipMFyf6T2fR/zBbZ+Iwn8Yg7Q+sjt5NrPoIynrN5+VyMoBOOLpEALnj7QZNIGF5YkWPns/gpAgJgixo1rhB2OEIYJmpJY2QroLAVLYsdiZCWXBIVfE+pAFTgdSK8qnv4Iuuxn5TOo156/CzZtAmTWMb0Zay7cP12UG5xti7/RpU1GhfQHyM98MJcIn99OSj55CbzsLV5YwpTobm1R5Lj52p3Sbu0ETk/yXkce0lJ3YjrsNqryzQSy7Z9Z75bJYZtACKSD2LehXbNeNglsJVk27NX2hxnd3HPEsMJhX4Ei06EYSmAYpVHjprg1h2DccA/IksVTVXtTiyHrNs3w9XAs6BzsVBpaJu+J0/6TnFNZrarUZa1fwY80JG8vP+jzEXcJK8DRSVqGKywrwV0AbJMjE4MJWWrxuNx6sJSknlq/orR07YmqByfmOpNrncwyn6XYQt6K0kvn8u9qbjfzT2uvbpYbl5kEAa61gCPzub57lgNI67OO+nzgPZrnE4dtov+IhIQnJB/n16Ht3G0VqZZTtBEcNu+j4Q+yP/S+CRFlNLhw3cblvHPZK9H4NC/tynuWfFO7WauuArCbj0zjpl3QhBYrVA90O86CZEUSB/cZH3NxgodAagYUT/v92dtVyQMRLCjzcVkcNFFqEs1vFBi1TeZ28OXdItCQuBrxlovL+sjI2DmzmoEW29kas9Z+8odbWPBYd3w7QIUIpfrZmellzfahYMYPrasKnRYsyO96LZFGsSong90CdVVXtEBj79fvJkGDaLnWwxyynDZrhVZPF9JFxrHmVy/L74p3xSALb/NBy4nFi7vycHPr5YTP37dxoluWqrGIqBsZLfN8wCrAoQGBYOc/u0z5H0ArgF6/UYCBe/VeuvG7CYBFjkHBO2Jo+GoJCO+mrp1rdPAchaObzsFDvbic359lRTwg/HDVruOa+ZeGjvomJa1hVACVeU5RjgWtHx4WBx39bP7rPNziTkrcVS42qh3Q/nfE8wlHx1yDfab4x44Y/0zdv2DPX4OW5jX/CeCEzMtGuqKJrhUnxxCsLalJ5Xa0ocfnInoia4bRK+rPrAxaf8mLTKO2IosNQ1mCWbsbbOosRCn6ixMvVdCBU4y8tN7fT444WXgixAUEL4dZ8zV7x5FHlHQdmjjq/jiebEFfvGJcXjpwyT/4AY/K5c+Svfn38Zno3O2NDH7YEoJyaVTwyHpfBOvkGn0uhz9MR5BQjDdA4kERW63X6UaTeeb+tBSovvuuxqzWFyijHVAOS0xpMkueDyU7w++DjwoIqiz50HM4+UF6QHBuWiLdGmStfS7nnp3kQw7iQC5fBvByqGmUIG8ABglMuW2wOivaGUa8mX8uDoOEMtjzqymVzloI2kNFcizaEs8vv2ErcDhl5GwkbnfaiT8dYAmNyikg1N4dyQU7Gy1aaKGvTNNKKbW7IX+VlSU0fChhl7Sjd64eDgJF0zyymtJEDDqXlIVm+WDrRL8gAIrxaIHgde2RVSeYU77bfqhTSxUAq0bKOuMjQxYtzZZSMltaVHavtlTC0L5GaTTau+xSbQqIBWYmxCohG3uscVWU3lm1TyJDZ65E2TMLMRilykse0oKSJ4dFJAbnAxRnQKjtNjos+BFIispruIefYFsUFTvLs6PoxnfbQyQtdFcgYkqN/XInq5/U9CevzZO43cYcRgp9UDxZs37peUqUDk0cC+zA1GxcR7oWybZYB1POTrsRgS/HoMj2M43cBiUfujsMFuU5zFoKUB0QZfseTUnGbmKkJH7kwWviN+1FZLt6G6SDn3gowhKBCtfYVponQk+1Ax651FB8E4yjnkyJWr6M14Oe5felQPXAXnAqyk3RPl04+pYVwSzTSrLP95sqr60pcJIP61KaEim34dsl63jNMH3FSVFYJHHpeO3GSQDzq6Ek4pF/aJKugVnXEkzagSv/eovZSAbEF286ZdI0Mm4lehy1uUWB37z5b7smqXpYTQMNgSMhduUcMQehXAwN2dMuZy/t/JnXEhVbJFR70eCCWnzUT9aIQb/I8HsGUSwiDPoH2jbxGhc5vF5l8QnsNtuvorvfGgAGR0idjz562dCwTmHP8g4CiR9sc29mlmeO0QfdUd6ql6N/8=";
    const PBKDF2_ITERATIONS = 400000;
    const ALLOWED_HOSTS = ['www.rsquarestudios.com', 'rsquarestudios.com',
      'photos.smugmug.com', 'www.youtube.com', 'youtube.com', 'youtu.be',
      'img.youtube.com', 'wa.me', 'kneil31.github.io'];

    // â”€â”€â”€ URL Validation â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    function isAllowedUrl(url) {
      if (!url) return false;
      try {
        const parsed = new URL(url);
        if (parsed.protocol !== 'https:') return false;
        return ALLOWED_HOSTS.some(h => parsed.hostname === h || parsed.hostname.endsWith('.' + h));
      } catch { return false; }
    }

    // â”€â”€â”€ DOM Builders â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    function makeEl(tag, className, text) {
      const el = document.createElement(tag);
      if (className) el.className = className;
      if (text) el.textContent = text;
      return el;
    }

    function makeLink(url, className) {
      const a = document.createElement('a');
      if (isAllowedUrl(url)) {
        a.href = url;
      } else {
        a.href = '#';
        a.addEventListener('click', e => e.preventDefault());
      }
      a.target = '_blank';
      a.rel = 'noreferrer noopener';
      a.referrerPolicy = 'no-referrer';
      if (className) a.className = className;
      return a;
    }

    function setBgImage(el, url) {
      if (url && isAllowedUrl(url)) {
        el.style.backgroundImage = "url('" + url + "')";
      }
    }

    function buildGalleryCard(g) {
      if (!g.url) return null;
      const hasCover = !!g.cover_url;
      const a = makeLink(g.url, hasCover ? 'tile' : 'tile tile-no-image');
      if (hasCover) setBgImage(a, g.cover_url);

      if (!hasCover && g.icon) {
        a.appendChild(makeEl('div', 'tile-icon', g.icon));
      }

      const content = makeEl('div', 'tile-content');
      content.appendChild(makeEl('div', 'tile-title', g.title));

      const metaParts = [g.date, g.subtitle].filter(Boolean).join(' \u00B7 ');
      if (metaParts) content.appendChild(makeEl('div', 'tile-meta', metaParts));

      if (g.count > 0) {
        content.appendChild(makeEl('span', 'tile-badge', g.count + ' images'));
      }

      a.appendChild(content);
      return a;
    }

    function buildVideoCard(v) {
      if (!v.url) return null;
      const a = makeLink(v.url, 'video-card');
      if (v.thumb_url) setBgImage(a, v.thumb_url);
      const inner = makeEl('div', 'video-card-content');
      inner.appendChild(makeEl('div', 'tile-title', v.title));
      a.appendChild(inner);
      return a;
    }

    function buildReelCard(r) {
      if (!r.url) return null;
      const a = makeLink(r.url, 'reel-tile');
      if (r.thumb_url && isAllowedUrl(r.thumb_url)) {
        const img = document.createElement('img');
        img.src = r.thumb_url;
        img.alt = r.title;
        img.loading = 'lazy';
        img.referrerPolicy = 'no-referrer';
        a.appendChild(img);
      }
      const inner = makeEl('div', 'reel-content');
      inner.appendChild(makeEl('div', 'reel-title', r.title));
      a.appendChild(inner);
      return a;
    }

    function buildTabContent(tabId, tabData) {
      const container = document.getElementById('tab-' + tabId);
      if (!container) return;
      const galleries = tabData.galleries || [];
      const videos = tabData.videos || [];
      const familyGalleries = tabData.family_galleries || [];

      if (galleries.length > 0) {
        container.appendChild(makeEl('div', 'section-label', 'Photo Galleries'));
        const grid = makeEl('div', 'cards-list');
        galleries.forEach(g => {
          const card = buildGalleryCard(g);
          if (card) grid.appendChild(card);
        });
        container.appendChild(grid);
      }

      if (videos.length > 0) {
        container.appendChild(makeEl('div', 'section-label', 'Videos'));
        const grid = makeEl('div', 'cards-list video-grid');
        videos.forEach(v => {
          const card = buildVideoCard(v);
          if (card) grid.appendChild(card);
        });
        container.appendChild(grid);
      }

      if (familyGalleries.length > 0) {
        container.appendChild(makeEl('div', 'section-label', 'Family'));
        const grid = makeEl('div', 'cards-list');
        familyGalleries.forEach(g => {
          const card = buildGalleryCard(g);
          if (card) grid.appendChild(card);
        });
        container.appendChild(grid);
      }
    }

    function buildReelsTab(reels) {
      const container = document.getElementById('tab-reels');
      if (!container) return;
      const grid = makeEl('div', 'reels-grid');
      reels.forEach(r => {
        const card = buildReelCard(r);
        if (card) grid.appendChild(card);
      });
      container.appendChild(grid);
    }

    // â”€â”€â”€ Tab Switching â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    function switchTab(tabId) {
      document.querySelectorAll('.tab-content').forEach(el => el.classList.remove('active'));
      document.querySelectorAll('.tab-btn').forEach(el => el.classList.remove('active'));
      document.getElementById('tab-' + tabId).classList.add('active');
      event.currentTarget.classList.add('active');
      window.scrollTo({ top: 0, behavior: 'smooth' });
    }

    // â”€â”€â”€ Crypto â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    async function deriveKey(password, salt) {
      const enc = new TextEncoder();
      const keyMaterial = await crypto.subtle.importKey(
        'raw', enc.encode(password), 'PBKDF2', false, ['deriveKey']
      );
      return crypto.subtle.deriveKey(
        { name: 'PBKDF2', salt: salt, iterations: PBKDF2_ITERATIONS, hash: 'SHA-256' },
        keyMaterial,
        { name: 'AES-GCM', length: 256 },
        false,
        ['decrypt']
      );
    }

    async function decryptContent(password, blob) {
      const raw = Uint8Array.from(atob(blob), c => c.charCodeAt(0));
      const salt = raw.slice(0, 16);
      const iv = raw.slice(16, 28);
      const ciphertext = raw.slice(28);
      const key = await deriveKey(password, salt);
      const decrypted = await crypto.subtle.decrypt(
        { name: 'AES-GCM', iv: iv }, key, ciphertext
      );
      return new TextDecoder().decode(decrypted);
    }

    // â”€â”€â”€ Lockout â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    let _failCount = 0;
    let _lockedOut = false;

    function startLockout() {
      _lockedOut = true;
      let seconds = 15;
      const lockoutEl = document.getElementById('pw-lockout');
      const btn = document.getElementById('pw-btn');
      btn.disabled = true;
      lockoutEl.style.display = 'block';
      lockoutEl.textContent = 'Too many attempts. Wait ' + seconds + 's...';
      const timer = setInterval(() => {
        seconds--;
        if (seconds <= 0) {
          clearInterval(timer);
          _lockedOut = false;
          _failCount = 0;
          lockoutEl.style.display = 'none';
          btn.disabled = false;
        } else {
          lockoutEl.textContent = 'Too many attempts. Wait ' + seconds + 's...';
        }
      }, 1000);
    }

    // â”€â”€â”€ Password Toggle â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    function togglePasswordVisibility() {
      const input = document.getElementById('pw-input');
      const icon = document.getElementById('eye-icon');
      if (input.type === 'password') {
        input.type = 'text';
        icon.textContent = 'ğŸ™ˆ';
      } else {
        input.type = 'password';
        icon.textContent = 'ğŸ‘';
      }
    }

    // â”€â”€â”€ Unlock â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    async function checkPassword() {
      if (_lockedOut) return;
      const input = document.getElementById('pw-input').value;
      if (!input) return;
      const btn = document.getElementById('pw-btn');
      btn.disabled = true;
      btn.textContent = 'Checking...';

      try {
        const plaintext = await decryptContent(input, ENCRYPTED_BLOB);
        const data = JSON.parse(plaintext);

        // Build DOM from data (no innerHTML)
        buildTabContent('krithin', data.krithin);
        buildTabContent('monika', data.monika);
        buildReelsTab(data.reels);

        // Show app, hide gate
        document.getElementById('pw-gate').style.display = 'none';
        document.getElementById('app-content').classList.add('unlocked');
        document.getElementById('app-footer').style.display = 'block';
        document.getElementById('logout-btn').style.display = 'inline-block';
        _failCount = 0;

        // Save session (30 min timeout)
        try {
          sessionStorage.setItem('_kn_pw', input);
          sessionStorage.setItem('_kn_ts', Date.now().toString());
        } catch(e) { /* private browsing */ }
      } catch(e) {
        _failCount++;
        document.getElementById('pw-error').style.display = 'block';
        document.getElementById('pw-input').value = '';
        document.getElementById('pw-input').focus();
        if (_failCount >= 3) startLockout();
      }

      btn.disabled = false;
      btn.textContent = 'Enter';
    }

    // â”€â”€â”€ Logout â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    function logout() {
      try {
        sessionStorage.removeItem('_kn_pw');
        sessionStorage.removeItem('_kn_ts');
      } catch(e) {}
      ['krithin', 'monika', 'reels'].forEach(id => {
        const el = document.getElementById('tab-' + id);
        if (el) el.replaceChildren();
      });
      location.reload();
    }

    // â”€â”€â”€ Auto-unlock from session (30 min timeout) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    const SESSION_TIMEOUT_MS = 30 * 60 * 1000;
    (async function autoUnlock() {
      try {
        const savedPw = sessionStorage.getItem('_kn_pw');
        const savedTs = sessionStorage.getItem('_kn_ts');
        if (!savedPw || !savedTs) return;
        if (Date.now() - parseInt(savedTs) > SESSION_TIMEOUT_MS) {
          sessionStorage.removeItem('_kn_pw');
          sessionStorage.removeItem('_kn_ts');
          return;
        }
        const plaintext = await decryptContent(savedPw, ENCRYPTED_BLOB);
        const data = JSON.parse(plaintext);
        buildTabContent('krithin', data.krithin);
        buildTabContent('monika', data.monika);
        buildReelsTab(data.reels);
        document.getElementById('pw-gate').style.display = 'none';
        document.getElementById('app-content').classList.add('unlocked');
        document.getElementById('app-footer').style.display = 'block';
        document.getElementById('logout-btn').style.display = 'inline-block';
        // Refresh timestamp
        sessionStorage.setItem('_kn_ts', Date.now().toString());
      } catch(e) {
        sessionStorage.removeItem('_kn_pw');
        sessionStorage.removeItem('_kn_ts');
      }
    })();

    // Focus password input if gate is visible
    if (document.getElementById('pw-gate').style.display !== 'none') {
      document.getElementById('pw-input').focus();
    }
    </script>
</body>
</html>