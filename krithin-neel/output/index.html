<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
  <title>Krithin Neel â€” Family Memories</title>
  <meta name="description" content="Family memories page">
  <meta name="theme-color" content="#FFF8F0">
  <meta name="referrer" content="no-referrer">
  <meta name="robots" content="noindex, nofollow, noarchive">
  <meta http-equiv="Permissions-Policy" content="camera=(), microphone=(), geolocation=()">
  <style>
    *, *::before, *::after {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    :root {
      --font: -apple-system, BlinkMacSystemFont, 'Segoe UI', system-ui, sans-serif;
      --bg: #FFF8F0;
      --bg-card: #FFFFFF;
      --text: #3D2C2E;
      --text-secondary: #8B7355;
      --accent: #E8A87C;
      --accent-soft: #FBE8D3;
      --pink: #F4978E;
      --pink-soft: #FDDEDE;
      --lavender: #C3AED6;
      --lavender-soft: #EDE7F6;
      --mint: #9DC5BB;
      --mint-soft: #E0F2EE;
      --shadow: 0 2px 12px rgba(61, 44, 46, 0.08);
      --shadow-hover: 0 4px 20px rgba(61, 44, 46, 0.14);
      --radius: 16px;
      --radius-sm: 10px;
    }

    body {
      font-family: var(--font);
      background: var(--bg);
      color: var(--text);
      min-height: 100vh;
      -webkit-font-smoothing: antialiased;
    }

    /* â”€â”€ Header â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    .header {
      text-align: center;
      padding: 40px 20px 24px;
      background: linear-gradient(180deg, #FFF0E5 0%, var(--bg) 100%);
    }

    .header-icon {
      font-size: 64px;
      margin-bottom: 8px;
      line-height: 1;
    }

    .header h1 {
      font-size: 28px;
      font-weight: 800;
      color: var(--text);
      margin-bottom: 4px;
      letter-spacing: -0.5px;
    }

    .header .subtitle {
      font-size: 15px;
      color: var(--text-secondary);
      font-weight: 600;
    }

    .logout-btn {
      margin-top: 12px;
      padding: 6px 18px;
      border: 1.5px solid var(--accent);
      border-radius: 50px;
      background: transparent;
      color: var(--accent);
      font-family: inherit;
      font-size: 13px;
      font-weight: 700;
      cursor: pointer;
      transition: all 0.2s;
    }

    .logout-btn:hover {
      background: var(--accent);
      color: #fff;
    }

    /* â”€â”€ Tabs â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    .tabs {
      display: flex;
      justify-content: center;
      gap: 8px;
      padding: 0 20px 20px;
      position: sticky;
      top: 0;
      z-index: 100;
      background: var(--bg);
      padding-top: 12px;
    }

    .tab-btn {
      padding: 10px 24px;
      border: none;
      border-radius: 50px;
      font-family: inherit;
      font-size: 15px;
      font-weight: 700;
      cursor: pointer;
      transition: all 0.25s ease;
      background: var(--bg-card);
      color: var(--text-secondary);
      box-shadow: var(--shadow);
    }

    .tab-btn.active {
      background: var(--accent);
      color: #fff;
      box-shadow: 0 4px 16px rgba(232, 168, 124, 0.4);
    }

    .tab-btn:not(.active):hover {
      background: var(--accent-soft);
      color: var(--text);
    }

    /* â”€â”€ Tab Content â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    .tab-content {
      display: none;
      padding: 0 16px 100px;
      max-width: 600px;
      margin: 0 auto;
      animation: fadeIn 0.3s ease;
    }

    .tab-content.active {
      display: block;
    }

    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(8px); }
      to { opacity: 1; transform: translateY(0); }
    }

    .section-label {
      font-size: 13px;
      font-weight: 700;
      text-transform: uppercase;
      letter-spacing: 1.2px;
      color: var(--text-secondary);
      padding: 16px 4px 8px;
    }

    /* â”€â”€ Tile Grid â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    .cards-list {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 12px;
    }

    .tile {
      position: relative;
      border-radius: var(--radius);
      overflow: hidden;
      aspect-ratio: 3/4;
      display: flex;
      align-items: flex-end;
      background-size: cover;
      background-position: center;
      text-decoration: none;
      color: #fff;
      transition: transform 0.15s, box-shadow 0.2s;
    }

    .tile::before {
      content: '';
      position: absolute;
      inset: 0;
      background: linear-gradient(180deg, transparent 30%, rgba(0,0,0,0.7) 100%);
      z-index: 0;
    }

    .tile:hover {
      transform: translateY(-3px);
      box-shadow: 0 8px 24px rgba(0,0,0,0.2);
    }

    .tile-content {
      position: relative;
      z-index: 1;
      padding: 14px 16px;
      width: 100%;
    }

    .tile-title {
      font-size: 16px;
      font-weight: 700;
      color: #fff;
      text-shadow: 0 1px 4px rgba(0,0,0,0.6);
      line-height: 1.3;
      margin-bottom: 2px;
    }

    .tile-meta {
      font-size: 12px;
      color: #d1d5db;
      text-shadow: 0 1px 2px rgba(0,0,0,0.5);
    }

    .tile-badge {
      display: inline-block;
      font-size: 11px;
      font-weight: 700;
      padding: 2px 8px;
      border-radius: 50px;
      background: rgba(255,255,255,0.2);
      color: #fff;
      margin-top: 4px;
      backdrop-filter: blur(4px);
    }

    .tile-icon {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      font-size: 40px;
      z-index: 1;
    }

    .tile-no-image {
      background: linear-gradient(135deg, var(--accent-soft) 0%, var(--lavender-soft) 100%);
    }

    .tile-no-image::before {
      background: none;
    }

    .tile-no-image .tile-title {
      color: var(--text);
      text-shadow: none;
    }

    .tile-no-image .tile-meta {
      color: var(--text-secondary);
      text-shadow: none;
    }

    .tile-no-image .tile-badge {
      background: var(--lavender-soft);
      color: #7C6B9E;
    }

    /* â”€â”€ Video Cards â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    .video-card {
      position: relative;
      text-decoration: none;
      border-radius: var(--radius);
      overflow: hidden;
      aspect-ratio: 16/9;
      background-size: cover;
      background-position: center;
      display: flex;
      align-items: flex-end;
      transition: transform 0.15s, box-shadow 0.2s;
    }

    .video-card::before {
      content: '';
      position: absolute;
      inset: 0;
      background: linear-gradient(180deg, transparent 40%, rgba(0,0,0,0.8) 100%);
    }

    .video-card:hover {
      transform: translateY(-3px);
      box-shadow: 0 8px 24px rgba(0,0,0,0.2);
    }

    .video-card-content {
      position: relative;
      z-index: 1;
      padding: 14px 16px;
      width: 100%;
    }

    .video-grid {
      grid-template-columns: repeat(2, 1fr) !important;
    }


    /* â”€â”€ Reels Grid (vertical 9:16) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    .reels-grid {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 8px;
    }

    .reel-tile {
      position: relative;
      border-radius: var(--radius-sm);
      overflow: hidden;
      aspect-ratio: 9/16;
      display: flex;
      align-items: flex-end;
      text-decoration: none;
      color: #fff;
      transition: transform 0.15s, box-shadow 0.2s;
    }

    .reel-tile img {
      position: absolute;
      inset: 0;
      width: 100%;
      height: 100%;
      object-fit: cover;
      object-position: center;
    }

    .reel-tile::before {
      content: '';
      position: absolute;
      inset: 0;
      background: linear-gradient(180deg, transparent 60%, rgba(0,0,0,0.6) 100%);
      z-index: 1;
    }

    .reel-tile:hover {
      transform: translateY(-3px);
      box-shadow: 0 8px 24px rgba(0,0,0,0.2);
    }

    .reel-content {
      position: relative;
      z-index: 2;
      padding: 8px 10px;
      width: 100%;
    }

    .reel-title {
      font-size: 11px;
      font-weight: 700;
      color: #fff;
      text-shadow: 0 1px 4px rgba(0,0,0,0.6);
      line-height: 1.3;
    }

    @media (max-width: 374px) {
      .reels-grid {
        grid-template-columns: repeat(2, 1fr);
      }
    }

    /* â”€â”€ Password Gate â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    .pw-gate {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      min-height: 60vh;
      padding: 40px 20px;
      text-align: center;
    }

    .pw-gate .gate-icon {
      font-size: 64px;
      margin-bottom: 16px;
    }

    .pw-gate h2 {
      font-size: 22px;
      font-weight: 800;
      color: var(--text);
      margin-bottom: 8px;
    }

    .pw-gate p {
      font-size: 14px;
      color: var(--text-secondary);
      margin-bottom: 24px;
    }

    .pw-form {
      display: flex;
      gap: 8px;
      max-width: 300px;
      width: 100%;
    }

    .pw-input-wrap {
      position: relative;
      flex: 1;
    }

    .pw-input-wrap input {
      width: 100%;
      padding: 12px 44px 12px 16px;
      border: 2px solid var(--accent-soft);
      border-radius: 12px;
      font-family: inherit;
      font-size: 15px;
      font-weight: 600;
      background: var(--bg-card);
      color: var(--text);
      outline: none;
      transition: border-color 0.2s;
    }

    .pw-input-wrap input:focus {
      border-color: var(--accent);
    }

    .pw-eye-btn {
      position: absolute;
      right: 8px;
      top: 50%;
      transform: translateY(-50%);
      background: none;
      border: none;
      cursor: pointer;
      padding: 4px;
      font-size: 16px;
      opacity: 0.6;
    }

    .pw-eye-btn:hover {
      opacity: 1;
    }

    .pw-form > button {
      padding: 12px 20px;
      border: none;
      border-radius: 12px;
      background: var(--accent);
      color: #fff;
      font-family: inherit;
      font-size: 15px;
      font-weight: 700;
      cursor: pointer;
      transition: opacity 0.2s;
    }

    .pw-form > button:hover {
      opacity: 0.85;
    }

    .pw-error {
      color: var(--pink);
      font-size: 13px;
      font-weight: 700;
      margin-top: 12px;
      display: none;
    }

    .pw-lockout {
      color: var(--pink);
      font-size: 13px;
      font-weight: 700;
      margin-top: 8px;
      display: none;
    }

    .pw-reminder {
      font-size: 12px;
      color: var(--text-secondary);
      margin-top: 20px;
      max-width: 260px;
      line-height: 1.5;
      opacity: 0.75;
    }

    .app-content {
      display: none;
    }

    .app-content.unlocked {
      display: block;
    }

    /* â”€â”€ Footer â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    .footer {
      text-align: center;
      padding: 32px 20px;
      color: var(--text-secondary);
      font-size: 13px;
      font-weight: 600;
    }

    .footer a {
      color: var(--accent);
      text-decoration: none;
    }

    .footer a:hover {
      text-decoration: underline;
    }

    .footer .whatsapp-link {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      margin-top: 8px;
      padding: 8px 20px;
      background: #25D366;
      color: #fff;
      border-radius: 50px;
      font-weight: 700;
      font-size: 14px;
      text-decoration: none;
      transition: opacity 0.2s;
    }

    .footer .whatsapp-link:hover {
      opacity: 0.85;
      text-decoration: none;
    }

    /* â”€â”€ Small mobile (single column tiles) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    @media (max-width: 374px) {
      .cards-list {
        grid-template-columns: 1fr;
      }
      .tile {
        aspect-ratio: 16/9;
      }
    }

    /* â”€â”€ Desktop â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    @media (min-width: 768px) {
      .header {
        padding: 60px 20px 32px;
      }
      .header h1 {
        font-size: 36px;
      }
      .tab-btn {
        padding: 12px 32px;
        font-size: 16px;
      }
      .cards-list {
        grid-template-columns: repeat(3, 1fr);
        gap: 16px;
      }
      .tile-title {
        font-size: 18px;
      }
    }
  </style>
</head>
<body>
  <div class="header">
    <div class="header-icon">ğŸ‘¶</div>
    <h1>Krithin Neel</h1>
    <p class="subtitle">One stop for family memories</p>
    <button id="logout-btn" class="logout-btn" onclick="logout()" style="display:none">Log out</button>
  </div>

  <!-- Password Gate -->
  <div id="pw-gate" class="pw-gate">
    <div class="gate-icon">ğŸ”’</div>
    <h2>Family Access</h2>
    <p>Enter the password to view memories</p>
    <div class="pw-form">
      <div class="pw-input-wrap">
        <input type="password" id="pw-input" placeholder="Password" autocomplete="off" inputmode="text"
               onkeydown="if(event.key==='Enter')checkPassword()">
        <button type="button" class="pw-eye-btn" onclick="togglePasswordVisibility()" aria-label="Toggle password visibility">
          <span id="eye-icon">ğŸ‘</span>
        </button>
      </div>
      <button id="pw-btn" onclick="checkPassword()">Enter</button>
    </div>
    <div id="pw-error" class="pw-error">Wrong password. Try again.</div>
    <div id="pw-lockout" class="pw-lockout"></div>
    <p class="pw-reminder">Please don't share this link or password outside family</p>
  </div>

  <!-- Encrypted content injected here after unlock -->
  <div id="app-content" class="app-content">
    <div class="tabs">
      <button class="tab-btn active" onclick="switchTab('krithin')">Krithin</button>
      <button class="tab-btn" onclick="switchTab('reels')">Reels</button>
      <button class="tab-btn" onclick="switchTab('monika')">Monika</button>
      <button class="tab-btn" onclick="switchTab('family')">Family</button>
    </div>

    <div id="tab-krithin" class="tab-content active"></div>
    <div id="tab-reels" class="tab-content"></div>
    <div id="tab-monika" class="tab-content"></div>
    <div id="tab-family" class="tab-content"></div>
  </div>

  <div class="footer" style="display:none" id="app-footer">
    <p>Captured with love by <a href="https://kneil31.github.io/rsquare-studios/" target="_blank" rel="noreferrer noopener">Rsquare Studios</a></p>
    <a href="https://wa.me/15307278598" class="whatsapp-link" target="_blank" rel="noreferrer noopener">
      <svg width="18" height="18" viewBox="0 0 24 24" fill="currentColor"><path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347z"/><path d="M12 0C5.373 0 0 5.373 0 12c0 2.625.846 5.059 2.284 7.034L.789 23.492a.5.5 0 00.611.611l4.458-1.495A11.948 11.948 0 0012 24c6.627 0 12-5.373 12-12S18.627 0 12 0zm0 22c-2.35 0-4.514-.81-6.228-2.164l-.435-.347-3.012 1.01 1.01-3.012-.348-.436A9.948 9.948 0 012 12C2 6.486 6.486 2 12 2s10 4.486 10 10-4.486 10-10 10z"/></svg>
      WhatsApp
    </a>
    <p style="margin-top: 12px; font-size: 11px; opacity: 0.5;">Generated 2026-02-19 17:08</p>
  </div>

  <script>
    const ENCRYPTED_BLOB = "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";
    const PBKDF2_ITERATIONS = 400000;
    const ALLOWED_HOSTS = ['www.rsquarestudios.com', 'rsquarestudios.com',
      'photos.smugmug.com', 'www.youtube.com', 'youtube.com', 'youtu.be',
      'img.youtube.com', 'wa.me', 'kneil31.github.io'];

    // â”€â”€â”€ URL Validation â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    function isAllowedUrl(url) {
      if (!url) return false;
      try {
        const parsed = new URL(url);
        if (parsed.protocol !== 'https:') return false;
        return ALLOWED_HOSTS.some(h => parsed.hostname === h || parsed.hostname.endsWith('.' + h));
      } catch { return false; }
    }

    // â”€â”€â”€ DOM Builders â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    function makeEl(tag, className, text) {
      const el = document.createElement(tag);
      if (className) el.className = className;
      if (text) el.textContent = text;
      return el;
    }

    function makeLink(url, className) {
      const a = document.createElement('a');
      if (isAllowedUrl(url)) {
        a.href = url;
      } else {
        a.href = '#';
        a.addEventListener('click', e => e.preventDefault());
      }
      a.target = '_blank';
      a.rel = 'noreferrer noopener';
      a.referrerPolicy = 'no-referrer';
      if (className) a.className = className;
      return a;
    }

    function setBgImage(el, url) {
      if (url && isAllowedUrl(url)) {
        el.style.backgroundImage = "url('" + url + "')";
      }
    }

    function buildGalleryCard(g) {
      if (!g.url) return null;
      const hasCover = !!g.cover_url;
      const a = makeLink(g.url, hasCover ? 'tile' : 'tile tile-no-image');
      if (hasCover) setBgImage(a, g.cover_url);

      if (!hasCover && g.icon) {
        a.appendChild(makeEl('div', 'tile-icon', g.icon));
      }

      const content = makeEl('div', 'tile-content');
      content.appendChild(makeEl('div', 'tile-title', g.title));

      const metaParts = [g.date, g.subtitle].filter(Boolean).join(' \u00B7 ');
      if (metaParts) content.appendChild(makeEl('div', 'tile-meta', metaParts));

      if (g.count > 0) {
        content.appendChild(makeEl('span', 'tile-badge', g.count + ' images'));
      }

      a.appendChild(content);
      return a;
    }

    function buildVideoCard(v) {
      if (!v.url) return null;
      const a = makeLink(v.url, 'video-card');
      if (v.thumb_url) setBgImage(a, v.thumb_url);
      const inner = makeEl('div', 'video-card-content');
      inner.appendChild(makeEl('div', 'tile-title', v.title));
      a.appendChild(inner);
      return a;
    }

    function buildReelCard(r) {
      if (!r.url) return null;
      const a = makeLink(r.url, 'reel-tile');
      if (r.thumb_url && isAllowedUrl(r.thumb_url)) {
        const img = document.createElement('img');
        img.src = r.thumb_url;
        img.alt = r.title;
        img.loading = 'lazy';
        img.referrerPolicy = 'no-referrer';
        a.appendChild(img);
      }
      const inner = makeEl('div', 'reel-content');
      inner.appendChild(makeEl('div', 'reel-title', r.title));
      a.appendChild(inner);
      return a;
    }

    function buildTabContent(tabId, tabData) {
      const container = document.getElementById('tab-' + tabId);
      if (!container) return;
      const galleries = tabData.galleries || [];
      const videos = tabData.videos || [];

      if (galleries.length > 0) {
        container.appendChild(makeEl('div', 'section-label', 'Photo Galleries'));
        const grid = makeEl('div', 'cards-list');
        galleries.forEach(g => {
          const card = buildGalleryCard(g);
          if (card) grid.appendChild(card);
        });
        container.appendChild(grid);
      }

      if (videos.length > 0) {
        container.appendChild(makeEl('div', 'section-label', 'Videos'));
        const grid = makeEl('div', 'cards-list video-grid');
        videos.forEach(v => {
          const card = buildVideoCard(v);
          if (card) grid.appendChild(card);
        });
        container.appendChild(grid);
      }
    }

    function buildReelsTab(reels) {
      const container = document.getElementById('tab-reels');
      if (!container) return;
      const grid = makeEl('div', 'reels-grid');
      reels.forEach(r => {
        const card = buildReelCard(r);
        if (card) grid.appendChild(card);
      });
      container.appendChild(grid);
    }

    // â”€â”€â”€ Tab Switching â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    function switchTab(tabId) {
      document.querySelectorAll('.tab-content').forEach(el => el.classList.remove('active'));
      document.querySelectorAll('.tab-btn').forEach(el => el.classList.remove('active'));
      document.getElementById('tab-' + tabId).classList.add('active');
      event.currentTarget.classList.add('active');
      window.scrollTo({ top: 0, behavior: 'smooth' });
    }

    // â”€â”€â”€ Crypto â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    async function deriveKey(password, salt) {
      const enc = new TextEncoder();
      const keyMaterial = await crypto.subtle.importKey(
        'raw', enc.encode(password), 'PBKDF2', false, ['deriveKey']
      );
      return crypto.subtle.deriveKey(
        { name: 'PBKDF2', salt: salt, iterations: PBKDF2_ITERATIONS, hash: 'SHA-256' },
        keyMaterial,
        { name: 'AES-GCM', length: 256 },
        false,
        ['decrypt']
      );
    }

    async function decryptContent(password, blob) {
      const raw = Uint8Array.from(atob(blob), c => c.charCodeAt(0));
      const salt = raw.slice(0, 16);
      const iv = raw.slice(16, 28);
      const ciphertext = raw.slice(28);
      const key = await deriveKey(password, salt);
      const decrypted = await crypto.subtle.decrypt(
        { name: 'AES-GCM', iv: iv }, key, ciphertext
      );
      return new TextDecoder().decode(decrypted);
    }

    // â”€â”€â”€ Lockout â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    let _failCount = 0;
    let _lockedOut = false;

    function startLockout() {
      _lockedOut = true;
      let seconds = 15;
      const lockoutEl = document.getElementById('pw-lockout');
      const btn = document.getElementById('pw-btn');
      btn.disabled = true;
      lockoutEl.style.display = 'block';
      lockoutEl.textContent = 'Too many attempts. Wait ' + seconds + 's...';
      const timer = setInterval(() => {
        seconds--;
        if (seconds <= 0) {
          clearInterval(timer);
          _lockedOut = false;
          _failCount = 0;
          lockoutEl.style.display = 'none';
          btn.disabled = false;
        } else {
          lockoutEl.textContent = 'Too many attempts. Wait ' + seconds + 's...';
        }
      }, 1000);
    }

    // â”€â”€â”€ Password Toggle â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    function togglePasswordVisibility() {
      const input = document.getElementById('pw-input');
      const icon = document.getElementById('eye-icon');
      if (input.type === 'password') {
        input.type = 'text';
        icon.textContent = 'ğŸ™ˆ';
      } else {
        input.type = 'password';
        icon.textContent = 'ğŸ‘';
      }
    }

    // â”€â”€â”€ Unlock â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    async function checkPassword() {
      if (_lockedOut) return;
      const input = document.getElementById('pw-input').value;
      if (!input) return;
      const btn = document.getElementById('pw-btn');
      btn.disabled = true;
      btn.textContent = 'Checking...';

      try {
        const plaintext = await decryptContent(input, ENCRYPTED_BLOB);
        const data = JSON.parse(plaintext);

        // Build DOM from data (no innerHTML)
        buildTabContent('krithin', data.krithin);
        buildTabContent('monika', data.monika);
        buildTabContent('family', data.family);
        buildReelsTab(data.reels);

        // Show app, hide gate
        document.getElementById('pw-gate').style.display = 'none';
        document.getElementById('app-content').classList.add('unlocked');
        document.getElementById('app-footer').style.display = 'block';
        document.getElementById('logout-btn').style.display = 'inline-block';
        _failCount = 0;
      } catch(e) {
        _failCount++;
        document.getElementById('pw-error').style.display = 'block';
        document.getElementById('pw-input').value = '';
        document.getElementById('pw-input').focus();
        if (_failCount >= 3) startLockout();
      }

      btn.disabled = false;
      btn.textContent = 'Enter';
    }

    // â”€â”€â”€ Logout â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    function logout() {
      ['krithin', 'monika', 'family', 'reels'].forEach(id => {
        const el = document.getElementById('tab-' + id);
        if (el) el.replaceChildren();
      });
      location.reload();
    }

    // Focus password input on load
    document.getElementById('pw-input').focus();
    </script>
</body>
</html>